(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{723:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/inventory",function(){return l(6195)}])},796:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});let s=(0,l(2092).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5947:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});let s=(0,l(2092).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6195:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>p});var s=l(2433),a=l(609),r=l(2092);let i=(0,r.Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var n=l(5947),c=l(796);let o=(0,r.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),d=(0,r.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var u=l(445),m=l(8143),x=l(7259),h=l(750),g=l.n(h);function p(){var e;let[t,l]=(0,a.useState)([]),[r,h]=(0,a.useState)(""),[p,v]=(0,a.useState)([]),[f,b]=(0,a.useState)(null),[y,N]=(0,a.useState)("all"),j=(0,m.useRouter)(),[w,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{k(!0);let e=localStorage.getItem("userdata");e?b(JSON.parse(e)):j.push("/"),C()},[j]);let C=async()=>{try{let e=await x.Z.get("/api/inventory/all");l(e.data),v(e.data)}catch(e){console.error("Error fetching inventory:",e)}};return((0,a.useEffect)(()=>{let e=t;r&&(e=e.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase()))),"available"===y?e=e.filter(e=>-1===e.quantity||e.quantity>0):"unavailable"===y&&(e=e.filter(e=>0===e.quantity)),v(e)},[r,t,y]),w)?(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("img",{src:"/img/logo.png",alt:"Logo",className:"w-12 h-12"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Tech Inventory Portal"}),(0,s.jsxs)("p",{className:"text-gray-500",children:["Welcome, ",null==f?void 0:null===(e=f.name)||void 0===e?void 0:e.split(" ")[0]]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(null==f?void 0:f.isAdmin)?(0,s.jsxs)("button",{className:"btn-yellow hover:scale-[1.02] active:scale-[0.98] transition-transform",onClick:()=>j.push("/inventory/add"),children:[(0,s.jsx)(i,{className:"w-5 h-5 mr-2"}),"Add Item"]}):(0,s.jsxs)("button",{className:"btn-primary hover:scale-[1.02] active:scale-[0.98] transition-transform",onClick:()=>j.push("/profile"),children:[(0,s.jsx)(n.Z,{className:"w-5 h-5 mr-2"}),"Profile"]}),(0,s.jsxs)("button",{className:"btn-danger hover:scale-[1.02] active:scale-[0.98] transition-transform",onClick:()=>{localStorage.removeItem("userdata"),j.push("/")},children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Logout"]})]})]}),(0,s.jsx)("div",{className:"card p-6 mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex justify-center items-center w-full gap-2",children:[(0,s.jsx)(o,{className:"w-5 h-5"}),(0,s.jsx)("input",{type:"text",className:"form-input pl-10",placeholder:"Search items...",value:r,onChange:e=>h(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{className:"btn-outline ".concat("all"===y?"bg-blue-50":""),onClick:()=>N("all"),children:[(0,s.jsx)(d,{className:"w-4 h-4 mr-2"}),"All"]}),(0,s.jsxs)("button",{className:"btn-outline ".concat("available"===y?"bg-blue-50":""),onClick:()=>N("available"),children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Available"]})]})]})}),0===p.length?(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No items found"}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(e=>(0,s.jsxs)("div",{className:"group bg-white rounded-2xl border border-gray-100  overflow-hidden shadow-md hover:shadow-xl  transition-all duration-300  hover:-translate-y-1  hover:border-blue-100",children:[(0,s.jsxs)("div",{className:"relative w-full h-48",children:[(0,s.jsx)(g(),{src:e.img||"/img/default-item.png",alt:e.title,fill:!0,className:"object-cover rounded-t-lg",onError:e=>{e.target.src="/img/default-item.png"}}),(0,s.jsx)("div",{className:"absolute top-3 right-3",children:0===e.quantity?(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-1  rounded-full text-xs font-medium  bg-red-50 text-red-600  border border-red-200",children:"Out of Stock"}):-1===e.quantity?(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-1  rounded-full text-xs font-medium  bg-green-50 text-green-600  border border-green-200",children:"Available"}):(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1  rounded-full text-xs font-medium  bg-blue-50 text-blue-600  border border-blue-200",children:[e.quantity," Available"]})})]}),(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800  group-hover:text-blue-700  transition-colors duration-300  truncate mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500  line-clamp-2 min-h-[2.5rem]  group-hover:text-gray-700  transition-colors duration-300",children:e.description||"No description available"}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{onClick:()=>j.push("/inventory/".concat(e.id)),className:"w-full inline-flex justify-center items-center  px-4 py-2.5 text-sm font-medium  rounded-lg text-white  bg-blue-600 hover:bg-blue-700  focus:outline-none focus:ring-2 focus:ring-offset-2  focus:ring-blue-500  transition-all duration-300 group-hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",children:"View Details"})})]})]},e.id))})]}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[211,690,888,774,179],()=>t(723)),_N_E=e.O()}]);