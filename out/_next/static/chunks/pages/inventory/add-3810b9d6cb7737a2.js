(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{1173:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/inventory/add",function(){return a(9725)}])},2092:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(609);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...r,width:l,height:l,stroke:a,strokeWidth:c?24*Number(i)/Number(l):i,className:n("lucide",o),...u},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,s.forwardRef)((a,r)=>{let{className:c,...o}=a;return(0,s.createElement)(i,{ref:r,iconNode:t,className:n("lucide-".concat(l(e)),c),...o})});return a.displayName="".concat(e),a}},2206:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2092).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7074:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2092).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},1025:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2092).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9725:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(2433),l=a(609),n=a(8143),r=a(7259),i=a(2206),c=a(7074),o=a(1025);let d=(0,a(2092).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function m(){let e=(0,n.useRouter)(),[t,a]=(0,l.useState)(!1),[m,u]=(0,l.useState)({title:"",description:"",quantity:1,img:"",returnable:!0,available:!0}),[h,x]=(0,l.useState)(!1),[p,b]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{x(!0);let t=localStorage.getItem("userdata");if(t){let e=JSON.parse(t);b(null==e?void 0:e.isAdmin)}else e.push("/")},[e]),!h)return null;let f=async t=>{t.preventDefault(),a(!0);try{(await r.Z.post("/api/inventory/create",m)).data&&(alert("Item added successfully!"),e.push("/inventory"))}catch(e){var s,l;console.error("Error adding item:",e),alert((null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||"Failed to add item")}finally{a(!1)}},y=e=>{let{name:t,value:a,type:s,checked:l}=e.target;u(e=>({...e,[t]:"checkbox"===s?l:a}))},N=e=>{u(t=>({...t,quantity:e?t.quantity+1:Math.max(0,t.quantity-1)}))};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,s.jsxs)("button",{onClick:()=>e.push("/inventory"),className:"btn-outline flex items-center",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 mr-2"}),"Back to Inventory"]})}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Add New Item"}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Title"}),(0,s.jsx)("input",{type:"text",name:"title",value:m.title,onChange:y,className:"form-input",required:!0,placeholder:"Enter item title"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:m.description,onChange:y,className:"form-input min-h-[100px]",placeholder:"Enter item description"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Image URL"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",name:"img",value:m.img,onChange:y,className:"form-input flex-grow",placeholder:"Enter image URL"}),(0,s.jsx)("button",{type:"button",className:"btn-outline",onClick:()=>u(e=>({...e,img:""})),children:"Clear"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{type:"button",className:"btn-outline p-2",onClick:()=>N(!1),children:(0,s.jsx)(c.Z,{className:"w-4 h-4"})}),(0,s.jsx)("input",{type:"number",name:"quantity",value:m.quantity,onChange:y,className:"form-input text-center",min:"0"}),(0,s.jsx)("button",{type:"button",className:"btn-outline p-2",onClick:()=>N(!0),children:(0,s.jsx)(o.Z,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"Set to -1 for unlimited"})]})]}),(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",name:"returnable",checked:m.returnable,onChange:y,className:"form-checkbox"}),(0,s.jsx)("span",{children:"Returnable"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",name:"available",checked:m.available,onChange:y,className:"form-checkbox"}),(0,s.jsx)("span",{children:"Available"})]})]}),(0,s.jsx)("button",{type:"submit",className:"btn-primary w-full",disabled:t,children:t?(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white rounded-full border-t-transparent"})}):(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(d,{className:"w-5 h-5"}),"Add Item"]})})]})]})})]})}a(9188)}},e=>{var t=t=>e(e.s=t);e.O(0,[172,211,888,774,179],()=>t(1173)),_N_E=e.O()}]);